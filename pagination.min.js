/*!Component-Pagination v1.0.0 | NHN Entertainment*/
!function(){ne.component||(ne.component={}),ne.component.Pagination=ne.util.defineClass({init:function(a,b){var c={itemCount:10,itemPerPage:10,pagePerPageList:10,page:1,moveUnit:"pagelist",isCenterAlign:!1,insertTextNode:"",classPrefix:"",firstItemClassName:"first-child",lastItemClassName:"last-child",pageTemplate:'<a href="#">{=page}</a>',currentPageTemplate:"<strong>{=page}</strong>"};this._options=ne.util.extend(c,a),this._events={},this._view=new ne.component.Pagination.PaginationView(this._options,b),this._view.attachEvent("click",ne.util.bind(this._onClickPageList,this)),this.movePageTo(this.getOption("page"),!1)},reset:function(a){var b=ne.util.isExisty(null!==a&&void 0!==a);b||(a=this.getOption("itemCount")),this.setOption("itemCount",a),this.movePageTo(1,!1)},getOption:function(a){return this._options[a]},movePageTo:function(a,b){a=this._convertToAvailPage(a),this._currentPage=a,(b||this.invoke("beforeMove",{page:a}))&&(this._paginate(a),b&&this.fire("afterMove",{page:a}))},setOption:function(a,b){this._options[a]=b},getCurrentPage:function(){return this._currentPage||this._options.page},getIndexOfFirstItem:function(a){return this.getOption("itemPerPage")*(a-1)+1},_getLastPage:function(){return Math.ceil(this.getOption("itemCount")/this.getOption("itemPerPage"))},_getPageIndex:function(a){if(this.getOption("isCenterAlign")){var b=Math.floor(this.getOption("pagePerPageList")/2),c=a-b;return c=Math.max(c,1),c=Math.min(c,this._getLastPage()-this.getOption("pagePerPageList")+1)}return Math.ceil(a/this.getOption("pagePerPageList"))},_getRelativePage:function(a){var b=null,c="page"===this.getOption("moveUnit"),d=this._getPageIndex(this.getCurrentPage());return b=this.getOption("isCenterAlign")?"pre"===a?c?this.getCurrentPage()-1:d-1:c?this.getCurrentPage()+1:d+this.getOption("pagePerPageList"):"pre"===a?c?this.getCurrentPage()-1:(d-1)*this.getOption("pagePerPageList"):c?this.getCurrentPage()+1:d*this.getOption("pagePerPageList")+1},_convertToAvailPage:function(a){var b=this._getLastPage();return a=Math.max(a,1),a=Math.min(a,b)},_paginate:function(a){this._view.empty();var b={};b.lastPage=this._getLastPage(),b.currentPageIndex=this._getPageIndex(a),b.lastPageListIndex=this._getPageIndex(b.lastPage),b.page=a,this._view.update(b,a)},_onClickPageList:function(a){a.preventDefault();var b,c=null,d=$(a.target);if(this._view.isIn(d,this.getOption("$pre_endOn")))c=1;else if(this._view.isIn(d,this.getOption("$lastOn")))c=this._getLastPage();else if(this._view.isIn(d,this.getOption("$preOn")))c=this._getRelativePage("pre");else if(this._view.isIn(d,this.getOption("$nextOn")))c=this._getRelativePage("next");else{if(b=this._view.getPageElement(d),!b||!b.length)return;c=parseInt(b.text(),10)}var e=this.invoke("click",{page:c});e&&this.movePageTo(c)}}),ne.util.CustomEvents.mixin(ne.component.Pagination),ne.component.Pagination.PaginationView=ne.util.defineClass({init:function(a,b){this._element=b,this._options=a,this._elementSelector={},this._cachedElement={},this._pageItemList=[],ne.util.extend(a,{$pre_endOn:a.$pre_endOn||$("a."+this._wrapPrefix("pre_end"),this._element),$preOn:a.$preOn||$("a."+this._wrapPrefix("pre"),this._element),$nextOn:a.$nextOn||$("a."+this._wrapPrefix("next"),this._element),$lastOn:a.$lastOn||$("a."+this._wrapPrefix("next_end"),this._element),$pre_endOff:a.$pre_endOff||$("span."+this._wrapPrefix("pre_end"),this._element),$preOff:a.$preOff||$("span."+this._wrapPrefix("pre"),this._element),$nextOff:a.$nextOff||$("span."+this._wrapPrefix("next"),this._element),$lastOff:a.$lastOff||$("span."+this._wrapPrefix("next_end"),this._element)}),this._element.addClass(this._wrapPrefix("loaded"))},update:function(a){this._addTextNode(),this._setPageResult(a.lastPage);var b=this._options,c=this._getEdge(a),d=c.left,e=c.right;a.leftPageNumber=d,a.rightPageNumber=e,"page"===b.moveUnit&&(a.currentPageIndex=a.page,a.lastPageListIndex=a.lastPage),this._setFirst(a),this._setPrev(a),this._setPageNumbers(a),this._setNext(a),this._setLast(a)},isIn:function(a,b){return b?a[0]===b[0]?!0:$.contains(b,a):!1},getBaseElement:function(){return this._element},empty:function(){var a=this._options,b=a.$pre_endOn,c=a.$preOn,d=a.$nextOn,e=a.$lastOn,f=a.$pre_endOff,g=a.$preOff,h=a.$nextOff,i=a.$lastOff;a.$pre_endOn=this._clone(b),a.$preOn=this._clone(c),a.$lastOn=this._clone(e),a.$nextOn=this._clone(d),a.$pre_endOff=this._clone(f),a.$preOff=this._clone(g),a.$lastOff=this._clone(i),a.$nextOff=this._clone(h),this._pageItemList=[],this._element.empty()},getPageElement:function(a){var b,c,d;for(b=0,c=this._pageItemList.length;c>b;b++)if(d=this._pageItemList[b],this.isIn(a,d))return d;return null},attachEvent:function(a,b){var c=this._element,d=ne.util.isString(c)&&this._elementSelector[c];d&&(c=this._getElement(c,!0)),c&&a&&b&&$(c).bind(a,null,b)},getElement:function(){return this._element},_wrapPrefix:function(a){var b=this._options.classPrefix;return b?b+a.replace(/_/g,"-"):a},_addTextNode:function(){var a=this._options.insertTextNode;this._element.append(document.createTextNode(a))},_clone:function(a){return a&&a.length&&a.get(0).cloneNode?$(a.get(0).cloneNode(!0)):a},_setPageResult:function(a){0===a?this._element.addClass(this._wrapPrefix("no-result")):1===a?this._element.addClass(this._wrapPrefix("only-one")).removeClass(this._wrapPrefix("no-result")):this._element.removeClass(this._wrapPrefix("only-one")).removeClass(this._wrapPrefix("no-result"))},_getEdge:function(a){var b,c,d,e=this._options;return e.isCenterAlign?(d=Math.floor(e.pagePerPageList/2),b=a.page-d,b=Math.max(b,1),c=b+e.pagePerPageList-1,c>a.lastPage&&(b=a.lastPage-e.pagePerPageList+1,b=Math.max(b,1),c=a.lastPage)):(b=(a.currentPageIndex-1)*e.pagePerPageList+1,c=a.currentPageIndex*e.pagePerPageList,c=Math.min(c,a.lastPage)),{left:b,right:c}},_setFirst:function(a){var b=this._options;a.page>1?b.$pre_endOn&&(this._element.append(b.$pre_endOn),this._addTextNode()):b.$pre_endOff&&(this._element.append(b.$pre_endOff),this._addTextNode())},_setPrev:function(a){var b=this._options;a.currentPageIndex>1?b.$preOn&&(this._element.append(b.$preOn),this._addTextNode()):b.$preOff&&(this._element.append(b.$preOff),this._addTextNode())},_setNext:function(a){var b=this._options;a.currentPageIndex<a.lastPageListIndex?b.$nextOn&&(this._element.append(b.$nextOn),this._addTextNode()):b.$nextOff&&(this._element.append(b.$nextOff),this._addTextNode())},_setLast:function(a){var b=this._options;a.page<a.lastPage?b.$lastOn&&(this._element.append(b.$lastOn),this._addTextNode()):b.$lastOff&&(this._element.append(b.$lastOff),this._addTextNode())},_setPageNumbers:function(a){var b,c,d=a.leftPageNumber,e=a.rightPageNumber,f=this._options;for(c=d;e>=c;c++)c===a.page?b=$(f.currentPageTemplate.replace("{=page}",c.toString())):(b=$(f.pageTemplate.replace("{=page}",c.toString())),this._pageItemList.push(b)),c===d&&b.addClass(this._wrapPrefix(f.firstItemClassName)),c===e&&b.addClass(this._wrapPrefix(f.lastItemClassName)),this._element.append(b),this._addTextNode()}})}();
//# sourceMappingURL=pagination.min.map